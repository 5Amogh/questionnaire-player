<ng-container *ngIf="selectedEntities">
  <div class="listTitle">
    <div>
      <h1>{{solutionName}}</h1>
      <p>Select {{selectedEntities.entityType}} from the list to observe</p>
    </div>

    <div class="srch">
      <mat-form-field class="srchBar" style="background-color: white;border-radius: 16px;">
        <mat-icon matPrefix style="color: gray;">search</mat-icon>
        <input matInput (input)="handleSearchInput($event)"
          [placeholder]="'Search your '+ selectedEntities.entityType + ' here'" />
      </mat-form-field>
    </div>
  </div>

  <div class="d-flex flex-dc gap-4">
    <button class="add-entity-btn" (click)="openAllEntityList()">Add {{selectedEntities.entityType}}</button>

    <div class="observation-list">
      <div class="grid-container">
        <div class="grid-item" *ngFor="let entity of filteredEntities">
          <mat-card class="observation-card" (click)="navigateToDetails(entity)">
            <mat-card-content>
              <h2 class="observation-name">{{ entity?.name }}</h2>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #searchEntityModal>
  <div class="p-16 searchEntity">
    <div mat-dialog-title class="d-flex flex-ai-start flex-dr flex-gap-4 p-0 " style="color: var(--primary-color);">
      Add {{entityToAdd}}
    </div>
    <mat-divider></mat-divider>
    <div mat-dialog-content class="flex-ai-self-start">
      <div class="srch">
        <mat-form-field class="srchBar" style="background-color: white;border-radius: 16px;">
          <mat-icon matPrefix style="color: gray;">search</mat-icon>
          <input matInput (input)="handleSearchInput($event)"
            [placeholder]="'Search your '+ selectedEntities.entityType + ' here'" />
        </mat-form-field>
      </div>

      <mat-selection-list [multiple]="true" [(ngModel)]="addedEntities">
        <mat-list-option *ngFor="let entity of filteredEntities" [value]="entity.id">
          {{entity.name}}
        </mat-list-option>
      </mat-selection-list>
    </div>
    <div mat-dialog-actions class="d-flex flex-jc-center flex-dr flex-gap-16">
      <button mat-dialog-close class="btn" (click)="closeDialog()">
        cancel
      </button>
      <button mat-dialog-close class="btn" (click)="closeDialog()">
        submit
      </button>
    </div>
  </div>
</ng-template>