<div class="wrapper">
  <form [formGroup]="questionnaireForm" class="main">
    <div
      class="custom-font"
      *ngFor="let section of sections; let sectionIndex = index"
    >
      <lib-main
        [questions]="section.questions"
        [questionnaireForm]="questionnaireForm"
        [fileUploadResponse]="fileuploadresponse"
        [isSubmitted]="evidence?.isSubmitted"
        (sendPageIndex)="catchPageIndex($event)"
      ></lib-main>
    </div>
  </form>
  <hr class="partition" />
  <div
    *ngIf="!evidence?.isSubmitted"
    class="m-16 d-flex flex-ai-center flex-jc-space-around flex-dr flex-gap-30 footer"
  >
    <button class="btn" (click)="submission('draft')" 
    [ngClass]="{
      'btn-outline-secondary': questionnaireForm?.valid,
      'btn-disabled': !questionnaireForm?.valid
    }" [disabled]="!questionnaireForm?.valid">
      Save
    </button>
    <button
      class="btn"
      [ngClass]="{
        'btn-primary': questionnaireForm?.valid && allPagesInitialized,
        'btn-disabled': !questionnaireForm?.valid || !allPagesInitialized
      }"
      (click)="submission('submit')"
      [disabled]="!questionnaireForm?.valid && !allPagesInitialized"
    >
      Submit
    </button>
  </div>
  
</div>
